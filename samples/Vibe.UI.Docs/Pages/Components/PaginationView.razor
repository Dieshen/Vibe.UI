@page "/components/pagination"
@using Vibe.UI.Components

<PageTitle>Pagination - Vibe.UI</PageTitle>

<ComponentPage ComponentName="Pagination"
               Category="Navigation"
               Description="Navigation component for paginated content with page numbers and controls."
               RelatedComponents="@relatedComponents">

    <PreviewContent>
        <div class="preview-demo">
            <h4>Basic Pagination</h4>
            <div style="padding: 1rem; background: var(--surface-1, #f8f9fa); border-radius: 8px;">
                <Pagination CurrentPage="@currentPage1"
                           TotalPages="10"
                           PageChanged="@((page) => currentPage1 = page)" />
                <p style="margin-top: 1rem; text-align: center;">Current Page: @currentPage1</p>
            </div>

            <h4 style="margin-top: 1.5rem;">With First/Last Buttons</h4>
            <div style="padding: 1rem; background: var(--surface-1, #f8f9fa); border-radius: 8px;">
                <Pagination CurrentPage="@currentPage2"
                           TotalPages="15"
                           ShowFirstLast="true"
                           PageChanged="@((page) => currentPage2 = page)" />
                <p style="margin-top: 1rem; text-align: center;">Current Page: @currentPage2</p>
            </div>

            <h4 style="margin-top: 1.5rem;">Many Pages (with ellipsis)</h4>
            <div style="padding: 1rem; background: var(--surface-1, #f8f9fa); border-radius: 8px;">
                <Pagination CurrentPage="@currentPage3"
                           TotalPages="50"
                           MaxVisiblePages="7"
                           ShowFirstLast="true"
                           PageChanged="@((page) => currentPage3 = page)" />
                <p style="margin-top: 1rem; text-align: center;">Current Page: @currentPage3 of 50</p>
            </div>
        </div>
    </PreviewContent>

    <Examples>
        <div class="example-item">
            <h3>Basic Usage</h3>
            <CodeBlock Code="@BasicCode" Language="razor" />
        </div>

        <div class="example-item">
            <h3>With Page Size Options</h3>
            <CodeBlock Code="@PageSizeCode" Language="razor" />
        </div>

        <div class="example-item">
            <h3>Compact Mode</h3>
            <CodeBlock Code="@CompactCode" Language="razor" />
        </div>

        <div class="example-item">
            <h3>With Jump to Page</h3>
            <CodeBlock Code="@JumpCode" Language="razor" />
        </div>

        <div class="example-item">
            <h3>Custom Boundaries</h3>
            <CodeBlock Code="@BoundariesCode" Language="razor" />
        </div>
    </Examples>

    <Props>
        <table class="api-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Default</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>CurrentPage</code></td>
                    <td>int</td>
                    <td>1</td>
                    <td>Current page number</td>
                </tr>
                <tr>
                    <td><code>TotalPages</code></td>
                    <td>int</td>
                    <td>1</td>
                    <td>Total number of pages</td>
                </tr>
                <tr>
                    <td><code>TotalItems</code></td>
                    <td>int</td>
                    <td>0</td>
                    <td>Total number of items</td>
                </tr>
                <tr>
                    <td><code>PageSize</code></td>
                    <td>int</td>
                    <td>10</td>
                    <td>Items per page</td>
                </tr>
                <tr>
                    <td><code>ShowPageSizeOptions</code></td>
                    <td>bool</td>
                    <td>false</td>
                    <td>Show page size selector</td>
                </tr>
                <tr>
                    <td><code>ShowJumpToPage</code></td>
                    <td>bool</td>
                    <td>false</td>
                    <td>Show jump to page input</td>
                </tr>
                <tr>
                    <td><code>SiblingCount</code></td>
                    <td>int</td>
                    <td>1</td>
                    <td>Number of pages to show on each side</td>
                </tr>
            </tbody>
        </table>
    </Props>

    <Events>
        <table class="api-table">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>OnPageChanged</code></td>
                    <td>EventCallback&lt;int&gt;</td>
                    <td>Callback when page changes</td>
                </tr>
                <tr>
                    <td><code>OnPageSizeChanged</code></td>
                    <td>EventCallback&lt;int&gt;</td>
                    <td>Callback when page size changes</td>
                </tr>
            </tbody>
        </table>
    </Events>

    <AccessibilityNotes>
        <ul>
            <li>Uses semantic <code>&lt;nav&gt;</code> with aria-label</li>
            <li>Current page marked with aria-current="page"</li>
            <li>Keyboard navigation support</li>
            <li>Disabled buttons properly indicated</li>
            <li>Screen reader friendly labels</li>
        </ul>
    </AccessibilityNotes>
</ComponentPage>

@code {
    private List<string> relatedComponents = new() { "DataGrid", "Table", "Button" };

    private int currentPage1 = 1;
    private int currentPage2 = 1;
    private int currentPage3 = 25;

    private string BasicCode => @"<Pagination CurrentPage=""@currentPage""
            TotalPages=""10""
            OnPageChanged=""@HandlePageChanged"" />

@code {
    private int currentPage = 1;

    private void HandlePageChanged(int page)
    {
        currentPage = page;
    }
}";

    private string PageSizeCode => @"<Pagination CurrentPage=""@currentPage""
            TotalItems=""100""
            PageSize=""@pageSize""
            ShowPageSizeOptions=""true""
            OnPageChanged=""@HandlePageChanged""
            OnPageSizeChanged=""@HandlePageSizeChanged"" />

@code {
    private int currentPage = 1;
    private int pageSize = 10;

    private void HandlePageSizeChanged(int size)
    {
        pageSize = size;
        currentPage = 1; // Reset to first page
    }
}";

    private string CompactCode => @"<Pagination CurrentPage=""@currentPage""
            TotalPages=""50""
            Compact=""true""
            OnPageChanged=""@HandlePageChanged"" />";

    private string JumpCode => @"<Pagination CurrentPage=""@currentPage""
            TotalPages=""100""
            ShowJumpToPage=""true""
            OnPageChanged=""@HandlePageChanged"" />";

    private string BoundariesCode => @"<Pagination CurrentPage=""@currentPage""
            TotalPages=""20""
            SiblingCount=""2""
            BoundaryCount=""2""
            OnPageChanged=""@HandlePageChanged"" />";
}
