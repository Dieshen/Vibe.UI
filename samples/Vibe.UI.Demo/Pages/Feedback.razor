@page "/feedback"

<PageTitle>Feedback Components - Vibe.UI Demo</PageTitle>

<div class="component-section">
    <h1>Feedback Components</h1>
    <p>Components for providing user feedback and displaying states.</p>

    <h2>Alert</h2>
    <div class="demo-container">
        <h3>Alert Variants</h3>
        <Alert Variant="Alert.AlertVariant.Default">
            <strong>Note:</strong> This is a default alert message.
        </Alert>

        <Alert Variant="Alert.AlertVariant.Info">
            <strong>Info:</strong> Here's some helpful information.
        </Alert>

        <Alert Variant="Alert.AlertVariant.Success">
            <strong>Success!</strong> Your changes have been saved.
        </Alert>

        <Alert Variant="Alert.AlertVariant.Warning">
            <strong>Warning:</strong> Please review before continuing.
        </Alert>

        <Alert Variant="Alert.AlertVariant.Destructive">
            <strong>Error:</strong> Something went wrong. Please try again.
        </Alert>
    </div>

    <h2>Spinner</h2>
    <div class="demo-container">
        <h3>Spinner Sizes</h3>
        <div class="demo-grid">
            <Spinner Size="@("small")" />
            <Spinner Size="@("medium")" />
            <Spinner Size="@("large")" />
        </div>

        <h3>With Label</h3>
        <Spinner Size="@("medium")" Label="Loading..." />

        <h3>Different Variants</h3>
        <div class="demo-grid">
            <Spinner />
            <Spinner />
            <Spinner />
        </div>
    </div>

    <h2>Progress Indicators</h2>
    <div class="demo-container">
        <h3>Determinate Progress</h3>
        <Progress Value="@progressValue" />
        <p>@progressValue%</p>

        <div style="margin-top: 1rem;">
            <Button @onclick="() => progressValue = Math.Min(100, progressValue + 10)">Increase</Button>
            <Button @onclick="() => progressValue = Math.Max(0, progressValue - 10)">Decrease</Button>
            <Button @onclick="() => progressValue = 0">Reset</Button>
        </div>

        <h3>Indeterminate Progress</h3>
        <Progress Indeterminate="true" />
    </div>

    <h2>EmptyState</h2>
    <div class="demo-container">
        <h3>No Data</h3>
        <EmptyState
            Icon="@("inbox")"
            Title="No messages"
            Description="You don't have any messages yet. Start a conversation to see messages here.">
            <Button>Start Conversation</Button>
        </EmptyState>

        <h3>Search Results</h3>
        <EmptyState
            Icon="@("search")"
            Title="No results found"
            Description="We couldn't find anything matching your search. Try different keywords.">
            <Button>Clear Search</Button>
        </EmptyState>
    </div>

    <h2>Skeleton</h2>
    <div class="demo-container">
        <h3>Loading Skeleton</h3>
        <Button @onclick="() => isLoading = !isLoading">
            @(isLoading ? "Hide" : "Show") Loading State
        </Button>

        <div style="margin-top: 1rem;">
            @if (isLoading)
            {
                <div class="skeleton-demo">
                    <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                        <Skeleton Width="60px" Height="60px" Circle="true" />
                        <div style="flex: 1;">
                            <Skeleton Width="40%" Height="20px" />
                            <Skeleton Width="60%" Height="16px" />
                            <Skeleton Width="50%" Height="16px" />
                        </div>
                    </div>

                    <Skeleton Width="100%" Height="200px" />

                    <div style="margin-top: 1rem;">
                        <Skeleton Width="100%" Height="16px" />
                        <Skeleton Width="95%" Height="16px" />
                        <Skeleton Width="90%" Height="16px" />
                    </div>
                </div>
            }
            else
            {
                <Card>
                    <div style="display: flex; gap: 1rem; margin-bottom: 1rem;">
                        <Avatar Initials="JD" Size="@("large")" />
                        <div>
                            <h4>John Doe</h4>
                            <p style="opacity: 0.7;">Software Developer</p>
                        </div>
                    </div>
                    <img src="https://via.placeholder.com/600x200" alt="Banner" style="width: 100%; border-radius: 0.375rem;" />
                    <p style="margin-top: 1rem;">
                        This is the actual content that appears after loading is complete.
                        The skeleton loader provides visual feedback while data is being fetched.
                    </p>
                </Card>
            }
        </div>
    </div>

    <h2>Confetti</h2>
    <div class="demo-container">
        <h3>Celebration Effect</h3>
        <Button @onclick="TriggerConfetti">
            Celebrate!
        </Button>

        @if (showConfetti)
        {
            <Confetti @bind-Active="showConfetti" Duration="3000" />
        }
    </div>

</div>

@code {
    private int progressValue = 45;
    private bool isLoading = true;
    private bool showConfetti = false;

    private void TriggerConfetti()
    {
        showConfetti = true;
    }
}
